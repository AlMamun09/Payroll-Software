@model List<PayrollSoftware.Infrastructure.Domain.Entities.Leave>

<div class="container-fluid">
    <div class="row mb-3">
      <div class="col-md-12">
   <div class="card">
        <div class="card-body">
           <h5 class="card-title mb-3">Employee Information</h5>
   <div class="row">
   <div class="col-md-4">
 <strong>Employee ID:</strong> @ViewBag.EmployeeCode
</div>
      <div class="col-md-4">
       <strong>Employee Name:</strong> @ViewBag.EmployeeName
     </div>
             <div class="col-md-4">
    <strong>Period:</strong> @ViewBag.Month
        </div>
 </div>
         </div>
</div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
    @if (Model == null || !Model.Any())
            {
        <div class="alert alert-info">
     <i class="fas fa-info-circle"></i> No approved leave found for this period.
              </div>
            }
            else
            {
           @foreach (var leave in Model.OrderBy(l => l.StartDate))
{
      <div class="card mb-3 border-left-primary">
            <div class="card-body">
   <div class="row">
         <div class="col-md-6">
         <p><strong>Employee Name:</strong> @ViewBag.EmployeeName</p>
            </div>
<div class="col-md-6">
    <p><strong>Leave Type:</strong>
           @if (leave.LeaveType == "Unpaid")
           {
          <span class="badge badge-secondary">@leave.LeaveType</span>
             }
    else if (leave.LeaveType == "Sick")
           {
 <span class="badge badge-warning">@leave.LeaveType</span>
       }
   else if (leave.LeaveType == "Casual")
    {
             <span class="badge badge-info">@leave.LeaveType</span>
        }
            else
{
    <span class="badge badge-primary">@leave.LeaveType</span>
          }
  </p>
          </div>
      </div>
       <div class="row">
  <div class="col-md-4">
        <p><strong>Start Date:</strong> @leave.StartDate.ToString("dd MMM yyyy")</p>
        </div>
         <div class="col-md-4">
        <p><strong>End Date:</strong> @leave.EndDate.ToString("dd MMM yyyy")</p>
  </div>
 <div class="col-md-4">
    <p><strong>Number of Days:</strong> <span class="badge badge-primary badge-pill">@leave.TotalDays days</span></p>
  </div>
           </div>
      <div class="row">
     <div class="col-md-12">
    <p><strong>Leave Cause (Remarks):</strong> @(string.IsNullOrWhiteSpace(leave.Remarks) ? "No remarks provided" : leave.Remarks)</p>
            </div>
          </div>
     </div>
            </div>
      }

          <div class="card bg-light">
        <div class="card-body">
            <h6 class="card-title font-weight-bold">Summary</h6>
         <div class="row">
          <div class="col-md-4">
       <p><strong>Total Leave Days:</strong> <span class="badge badge-dark badge-pill">@Model.Sum(l => l.TotalDays) days</span></p>
             </div>
 <div class="col-md-4">
         <p><strong>Paid Leave Days:</strong> <span class="badge badge-success badge-pill">@Model.Where(l => !string.Equals(l.LeaveType, "Unpaid", StringComparison.OrdinalIgnoreCase)).Sum(l => l.TotalDays) days</span></p>
        </div>
      <div class="col-md-4">
     <p><strong>Unpaid Leave Days:</strong> <span class="badge badge-warning badge-pill">@Model.Where(l => string.Equals(l.LeaveType, "Unpaid", StringComparison.OrdinalIgnoreCase)).Sum(l => l.TotalDays) days</span></p>
     </div>
          </div>
             </div>
      </div>
            }
        </div>
    </div>
</div>
